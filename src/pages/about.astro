---
import DefaultLayout from "../layouts/DefaultLayout.astro";
import { Mail, MapPin, Phone, Download, GraduationCap, Briefcase } from "lucide-react";

const name = "Meza Iriarte Chayanne";
const role = "Desarrollador Fullstack";
const email = "cmezairiarte6@gmail.com";
const location = "Perú";
const age = "28";
const phone = "+51 987 654 321";
const freelance = "Disponible";
const bio = "Soy un desarrollador web Full Stack con conocimientos en Astro, Vue y Node.js. Estudié en el Instituto Continental, donde adquirí una sólida base en desarrollo de software. Aunque comencé mi carrera en 2025, sigo en constante aprendizaje y perfeccionamiento. Tengo conocimientos en C#, Python y JavaScript, así como en servicios, microservicios, API REST, SOAP y WebSockets. Mi enfoque está en mejorar mis habilidades y ganar experiencia a través de proyectos desafiantes y oportunidades de crecimiento profesional.";

const skills = [
  { name: "Frontend", percentage: 70 },
  { name: "Backend", percentage: 95 },
  { name: "Bases de Datos", percentage: 85 },
  { name: "DevOps", percentage: 50 },
  { name: "C#", percentage: 65 },
  { name: "Python", percentage: 40 },
  { name: "JavaScript", percentage: 50 },
  { name: "API REST", percentage: 90 },
  { name: "SOAP", percentage: 65 },
  { name: "WebSockets", percentage: 50 }
];

const services = [
  "Desarrollo Web",
  "Aplicaciones Fullstack",
  "Optimización de Rendimiento",
  "Integración de APIs",
  "Desarrollo de Microservicios",
  "Arquitectura basada en Servicios"
];

const education = [
  { title: "Instituto Continental", place: "Perú", year: "2024" }
];

const experience = [
  { title: "Proyectos Personales", place: "Freelance", year: "2025", description: "Estoy desarrollando proyectos personales para fortalecer mis habilidades en desarrollo web." }
];
---

<DefaultLayout>
  <section class="bg-gray-900 text-white py-20">
    <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center text-center md:text-left fade-in">
      <!-- Imagen -->
      <div class="md:w-1/2 flex justify-center">
        <img 
          src="/assets/profile.jpg" 
          alt="Foto de {name}" 
          class="w-64 h-64 rounded-full border-4 border-green-400 shadow-lg grayscale hover:grayscale-0 transition-all duration-500"
          loading="lazy"
        />
      </div>

      <!-- Información -->
      <div class="md:w-1/2 mt-10 md:mt-0">
        <h2 class="text-4xl font-bold text-green-400">{name}</h2>
        <p class="text-lg text-gray-300">{role}</p>
        <p class="text-sm text-gray-400 flex items-center"><MapPin className="mr-2" size={18} /> {location}</p>
        <a href="mailto:{email}" class="text-green-400 hover:underline flex items-center">
          <Mail className="mr-2" size={18} /> {email}
        </a>
        <p class="text-sm text-gray-400 flex items-center"><Phone className="mr-2" size={18} /> {phone}</p>
        <div class="mt-6 grid grid-cols-2 gap-4 text-sm">
          <p><strong>Edad:</strong> {age}</p>
          <p><strong>Freelance:</strong> {freelance}</p>
        </div>
        <!-- Botón Descargar CV -->
        <a href="/assets/CV-Meza-Iriarte.pdf" download class="mt-4 inline-flex items-center bg-green-500 px-4 py-2 rounded-lg text-black font-semibold hover:bg-green-600 transition-all">
          <Download className="mr-2" size={20} /> Descargar CV
        </a>
      </div>
    </div>

    <!-- Biografía -->
    <div class="max-w-5xl mx-auto mt-12 text-center">
      <h3 class="text-2xl font-bold text-green-400">Sobre Mí</h3>
      <p class="text-gray-300 mt-4">{bio}</p>
    </div>

    <!-- Servicios -->
    <div class="max-w-5xl mx-auto mt-12">
      <h3 class="text-2xl font-bold text-center text-green-400">Servicios</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
        {services.map((service) => (
          <div class="text-center p-4 border border-green-400 rounded-lg">{service}</div>
        ))}
      </div>
    </div>

    <!-- Educación -->
<div class="max-w-5xl mx-auto mt-12">
  <h3 class="text-2xl font-bold text-center text-green-400">Educación</h3>
  <div class="mt-6 space-y-4">
    {education.map((edu) => (
      <div class="flex items-center gap-4 p-4 border border-green-400 rounded-lg">
        <GraduationCap className="text-green-400" size={24} />
        <div>
          <p class="text-lg text-white font-semibold">
            <a href="https://icontinental.edu.pe" target="_blank" class="text-green-400 hover:underline">
              {edu.title}
            </a>
          </p>
          <p class="text-gray-400 text-sm">{edu.place} - {edu.year}</p>
        </div>
      </div>
    ))}
  </div>
</div>


    <!-- Experiencia -->
    <div class="max-w-5xl mx-auto mt-12">
      <h3 class="text-2xl font-bold text-center text-green-400">Experiencia</h3>
      <div class="mt-6 space-y-4">
        {experience.map((exp) => (
          <div class="flex items-center gap-4 p-4 border border-green-400 rounded-lg">
            <Briefcase className="text-green-400" size={24} />
            <div>
              <p class="text-lg text-white font-semibold">{exp.title}</p>
              <p class="text-gray-400 text-sm">{exp.place} - {exp.year}</p>
              <p class="text-gray-300 text-sm mt-2">{exp.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Habilidades -->
    <div class="max-w-5xl mx-auto mt-12">
      <h3 class="text-2xl font-bold text-center text-green-400">Habilidades</h3>
      <div class="mt-6 space-y-4">
        {skills.map((skill) => (
          <div>
            <p class="text-sm text-gray-300">{skill.name} -- {skill.percentage}%</p>
            <div class="w-full bg-gray-700 rounded-full h-2.5">
              <div 
                class="bg-green-400 h-2.5 rounded-full lazy-load" 
                data-width={`${skill.percentage}%`}
                style="width: 0;"
              ></div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".lazy-load").forEach((el) => {
        const element = el as HTMLElement;
        const width = element.getAttribute("data-width") || "0%";
        
        console.log("Elemento encontrado:", element);
        console.log("Ancho obtenido:", width);
        
        element.style.width = width;
      });
    });
  </script>
  
  
</DefaultLayout>
